---
import Base from "@layout/Base.astro";
import { Image } from "astro:assets";
import runtodayapp from "@assets/runtodayapp.png";
import LoginForm from "@components/auth/LoginForm.astro";

const { cookies, redirect } = Astro;

const accessToken = cookies.get("sb-access-token");
const refreshToken = cookies.get("sb-refresh-token");

if (accessToken && refreshToken) {
  return redirect("/dashboard");
}
---

<Base title="Login">
  <div
    class="flex min-h-svh flex-col items-center justify-center gap-6 bg-muted p-6 md:p-10"
  >
    <div class="flex w-full max-w-sm flex-col gap-6">
      <a href="#" class="flex items-center gap-2 self-center font-medium">
        <Image src={runtodayapp} alt="logo" class="h-8 w-8" />
        runtoday.app
      </a>
      <LoginForm />
    </div>
  </div>
</Base>
